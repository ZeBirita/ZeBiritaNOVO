<!DOCTYPE html>
<html lang="pt-EU">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Z√© Birita</title>
  <link rel="icon" sizes="32x32" href="https://i.ibb.co/fzbx6cTh/Caneca-Cerveja-Espuma-com-fundo.png" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <header>
    <div class="logo-central">
      <img src="https://i.ibb.co/hRxZ0HvY/Z-BIRITA-Sem-fundo.png" alt="Logo Z√© Birita">
<h1 class="titulo-site">Z√© Birita<br>Delivery</h1>
    </div>
    <div class="icone-carrinho" onclick="toggleCarrinho()">
      üõí <span id="contador-carrinho">0</span>
    </div>
    <button class="botao-modal" onclick="togglemodal()">Sobre N√≥s</button>
    <script src="https://player.vimeo.com/api/player.js"></script>
  </header>
  <main>
    <div id="painel-carrinho" class="painel-carrinho">
      <div class="painel-header">
        <h2>Seu Carrinho</h2>
        <button onclick="toggleCarrinho()">Fechar ‚úñ</button>
      </div>


      <!-- HTML dentro do painel do carrinho -->
      <div id="opcoes-pagamento" style="margin-top: 20px;">
        <label>
          Forma de pagamento:
          <select id="forma-pagamento">
            <option value="">Selecione...</option>
            <option value="dinheiro">Dinheiro</option>
            <option value="mbway">MBWay</option>
            <option value="cart√£o">Cart√£o</option>
          </select>
        </label>

        <div id="troco-container" style="display: none; margin-top: 10px;">
          <label>
            Vai precisar de troco?
            <input type="checkbox" id="precisa-troco" />
          </label>
          <div id="troco-quantidade" style="display: none; margin-top: 5px;">
            <label>
              Quanto vai pagar?
              <input type="text" id="valor-troco" placeholder="Ex: 20.00" />
            </label>
          </div>
        </div>

        <p id="mensagem-minimo" style="color: red; font-weight: bold; margin-bottom: 10px;">
          ‚ö†Ô∏è Pedido m√≠nimo de 10 ‚Ç¨ para finalizar.
        </p>
        <p id="mensagem-minimo" style="color: red; font-weight: bold; display: none;">
          O valor m√≠nimo do pedido √© de 10 ‚Ç¨.
        </p>
        <button id="finalizar-whatsapp" style="margin-top: 20px;" disabled>
          Finalizar pedido via WhatsApp
        </button>
      </div>
      <p id="total-carrinho"><strong>Total: 0,00 ‚Ç¨</strong></p>

      <ul id="lista-carrinho"></ul>


    </div>
    <div class="produtos-container" id="produtos-container">
      <!-- Produtos v√£o aqui -->
    </div>
    <div id="modal" class="modal-fundo">
      <div class="modal-conteudo">
        <span class="fechar-modal-sobre" onclick="fecharModalSobre()">‚úñ</span>
        <h2>Sobre N√≥s</h2>
        <iframe id="video-vimeo" src="https://player.vimeo.com/video/1107136217" width="100%" height="380"
          frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen>
        </iframe>


        <div class="imagens-container">
          <img src="https://i.ibb.co/9mH6PfSX/Cartaz-3.png" alt="Imagem 1">
          <img src="https://i.ibb.co/KcBbqcb5/2.png" alt="Imagem 2">
          <img src="https://i.ibb.co/C3ZgBVDb/Cartaz-Z-Birita.png" alt="Imagem 3">
        </div>
        <div class="texto-fixo-modal">
          <p>
            Bem-vindo ao Z√© Birita! Aqui voc√™ encontra as melhores bebidas, com entrega r√°pida e atendimento de
            qualidade.
          </p>
          <p>
            Este v√≠deo explica nosso funcionamento e as imagens abaixo mostram nossos principais produtos e mais informa√ß√µes. Agradecemos
            por visitar nosso site!
          </p>
        </div>
      </div>
    </div>
  </main>
  <!-- Modal para imagem ampliada -->
  <div id="imagem-modal" class="modal-imagem" style="display: none;">
    <span class="fechar-modal">&times;</span>
    <img class="modal-conteudo" id="imagem-ampliada">
  </div>
  <script>
    // Seleciona todas as imagens clic√°veis
    document.querySelectorAll('.imagens-container img').forEach(img => {
      img.addEventListener('click', () => {
        const modal = document.getElementById('imagem-modal');
        const modalImg = document.getElementById('imagem-ampliada');
        modalImg.src = img.src;
        modal.style.display = 'flex';
      });
    });

    // Fecha o modal ao clicar no X
    document.querySelector('.fechar-modal').addEventListener('click', () => {
      document.getElementById('imagem-modal').style.display = 'none';
    });

    // Fecha o modal ao clicar fora da imagem
    document.getElementById('imagem-modal').addEventListener('click', (e) => {
      if (e.target === e.currentTarget) {
        e.currentTarget.style.display = 'none';
      }
    });
  </script>

</body>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const campoValorTroco = document.getElementById('valor-troco');

    campoValorTroco.addEventListener('keydown', function (e) {
      const teclasPermitidas = [
        "Backspace", "Delete", "ArrowLeft", "ArrowRight", "Tab", "Home", "End"
      ];

      const tecla = e.key;
      const valorAtual = campoValorTroco.value;

      const ehNumero = /^[0-9]$/.test(tecla);
      const ehPonto = tecla === '.';
      const ehVirgula = tecla === ',';

      const jaTemPonto = valorAtual.includes('.');
      const jaTemVirgula = valorAtual.includes(',');

      if (ehNumero || teclasPermitidas.includes(tecla)) {
        return; // permite n√∫meros e teclas de controle
      }

      // Permite ponto ou v√≠rgula, mas apenas um deles
      if ((ehPonto && !jaTemPonto && !jaTemVirgula) || (ehVirgula && !jaTemPonto && !jaTemVirgula)) {
        return;
      }

      e.preventDefault(); // bloqueia todo o resto
    });

    campoValorTroco.addEventListener('input', function () {
      // Remove qualquer caractere inv√°lido
      let valor = this.value;

      // Remove tudo que n√£o for n√∫mero, ponto ou v√≠rgula
      valor = valor.replace(/[^0-9.,]/g, '');

      // Permite apenas 1 ponto ou 1 v√≠rgula (n√£o os dois)
      const temPonto = valor.includes('.');
      const temVirgula = valor.includes(',');

      if (temPonto && temVirgula) {
        // remove o segundo s√≠mbolo
        valor = valor.replace(/[.,]$/, '');
      }

      // Garante apenas uma v√≠rgula ou um ponto
      const match = valor.match(/^([0-9]*)([.,]?)([0-9]*)/);
      if (match) {
        this.value = match[1] + match[2] + match[3];
      } else {
        this.value = '';
      }
    });
  });
</script>


<script src="script.js"></script>

<script>
  let player; // Agora √© global
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const iframe = document.getElementById('video-vimeo');
    player = new Vimeo.Player(iframe); // Atribui √† vari√°vel global

    const modalSobre = document.getElementById('modal');

    // Quando clicar fora do modal de "Sobre N√≥s"
    modalSobre.addEventListener('click', function (e) {
      if (e.target === modalSobre) {
        modalSobre.style.display = 'none';
        player.pause().catch(function (error) {
          console.error("Erro ao pausar o v√≠deo:", error);
        });
      }
    });

    // Fechar ao apertar ESC
    window.addEventListener('keydown', function (e) {
      if (e.key === "Escape") {
        modalSobre.style.display = 'none';
        player.pause().catch(function (error) {
          console.error("Erro ao pausar o v√≠deo:", error);
        });
      }
    });
  });
</script>


    // Fechar ao apertar ESC
    window.addEventListener('keydown', function (e) {
      if (e.key === "Escape") {
        modalSobre.style.display = 'none';
        player.pause().catch(function (error) {
          console.error("Erro ao pausar o v√≠deo:", error);
        });
      }
    });
  });
</script>
<script>
  function fecharModalSobre() {
    document.getElementById('modal').style.display = 'none';
    player.pause().catch(function (error) {
      console.error("Erro ao pausar o v√≠deo:", error);
    });
  }
</script>

</html>